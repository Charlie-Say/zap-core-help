<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>
API选项屏幕
</title>
</head>
<body>
<h1>API选项屏幕</h1>
<p>
此屏幕允许您配置 <a href="../../../start/features/api.html">API</a> 选项：

<h3>启用</h3>

如果启用，则API可用于所有能够使用ZAP作为代理的计算机。<br/>

<h3>Web UI Enabled</h3>

如果启用，则API Web UI可用于所有能够使用ZAP作为代理的计算机。
要访问API Web UI，请将浏览器指向ZAP正在监听的主机和端口。<br/>

<h3>只允许安全模式</h3>

如果启用，那么API将只能通过HTTPS使用。 否则，它将通过HTTP和HTTPS提供。<br/>

<h3>API密钥</h3>

必须在所有API操作和一些其它操作中指定密钥。<br/>
API密钥用于防止恶意网站访问ZAP API。<br/>
强烈建议您设置密钥，除非您在完全隔离的环境中使用ZAP。<br/>

<h3>允许使用API的地址</h3>

默认情况下，只有运行ZAP的计算机才能访问ZAP API。<br/>
您可以通过添加合适的正则表达式模式来允许其它计算机访问API。<br/>
您应该只添加您信任的IP地址。<br/>
请注意，ZAP API现在也检查主机头，因此它也必须是允许的地址之一。

<h3>禁用API密钥</h3>

选择此选项将禁用API密钥。<br/>
除非您在完全隔离的环境中使用ZAP，否则不建议使用ZAP，因为它允许恶意站点访问ZAP API。

<h3>不需要用于安全操作的API密钥</h3>

如果启用，那么视图或其它被视为“安全”的操作不需要API密钥，换言之，不对ZAP进行任何更改的操作。 
但是这样的操作可以访问ZAP数据，如警报，消息和文件系统路径。  
Web应用程序也可以使用它们来检测ZAP的存在。

<h3>通过API报告权限错误</h3>

如果启用，则ZAP将通过API报告权限错误，Web应用程序可以使用该API来检测ZAP的存在。
这在安全的环境中并不是一个严重的问题，但是如果您使用ZAP来对付潜在的恶意网站，那么您不应该启用它。

<h3>通过API报告错误详情</h3>

如果选择此选项，则可以通过API返回更多错误详细信息。<br/>
除了调试目的外，建议不要这样做，因为这些错误详细信息可能会将信息泄露给恶意网站。<br/>
请注意，完整的错误详细信息总是被写入ZAP日志文件中。 

<h3>在API UI中的自动填充API密钥</h3>

如果选择此选项，则API密钥将自动包含在API UI中。<br/>
除非您在完全隔离的环境中使用ZAP，否则不建议这样做，因为它允许恶意网站访问ZAP API的密钥。<br/>

<h3>启用 JSONP</h3>

选择此选项将启用JSONP格式。<br/>
这对于某些应用程序非常有用，但通常不推荐使用它，因为它会增加ZAP攻击面的区域，这是恶意网站可能会滥用的功能。<br/>
如果启用了JSONP，那么使用JSONP（包括视图）的所有API操作都需要API密钥来防止恶意网站访问通过ZAP维护的敏感信息，例如会话密钥。 

<h2>另请参阅</h2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="../../overview.html">UI综览</a></td><td>有关用户界面的概述</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
<a href="options.html">选项对话框</a></td><td>有关其他选项对话框屏幕的详细信息</td></tr>
</table>

</body>
</html>
