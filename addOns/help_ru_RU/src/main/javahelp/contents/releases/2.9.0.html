<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
  Release 2.9.0
</TITLE>
</HEAD>
<BODY>
<H1>Release 2.9.0</H1>

Это выпуск с исправлением ошибок и улучшением, для которого требуется как минимум Java 8.  
Обратите внимание, что рекомендуется как минимум Java 11, особенно для дисплеев с высоким разрешением. 
<br> <br>
Эти примечания к выпуску не включают все изменения, включенные в надстройки, обновленные с версии 2.8.0. 
<br> <br>
Некоторые из наиболее значительных улучшений включают: 

<H2>Сценарии управления сеансом </H2>
Теперь можно определять сценарии, которые обрабатывают нестандартное или более сложное управление сеансами. <br>
Сценарии управления сеансом имеют полный доступ к запросу и ответу на аутентификацию и могут определять настраиваемые параметры.
обязательные и необязательные параметры. 
Предоставляется пример сценария управления сеансом для магазина OWASP Juice. 

<H2>Фильтр активного сканирования </H2>
Теперь можно фильтровать запросы в Active Scan.  Ниже приведены поддерживаемые критерии: 
<ul>
	<li>HTTP метод </li>
	<li>Код состояния </li>
	<li>Теги</li>
	<li>Шаблон URL </li>	
</ul>

<H2>Настраиваемые глобальные переменные / переменные сценария </H2>
Теперь скрипты могут совместно использовать настраиваемые глобальные переменные / переменные скрипта, которые могут быть любого типа, кроме
просто строки, например списки, карты, модели GUI. <0 />
В JavaScript они доступны / устанавливаются следующим образом: 
<blockquote><pre><code>
var ScriptVars = Java.type ("org.zaproxy.zap.extension.script.ScriptVars")

ScriptVars.setScriptCustomVar (this.context, "var.name", {x: 1, y: 3})
print (ScriptVars.getScriptCustomVar (this.context, "var.name"). y) // Выводит 3

ScriptVars.setGlobalCustomVar ("var.name", ["A", "B", "C", "D"])
print (ScriptVars.getGlobalCustomVar ("var.name") [2]) // Выводит C 
</code></pre></blockquote>

<H2>Сканирование правил продвижения </H2>

Были продвинуты следующие правила сканирования: 

<h3>Правила пассивного сканирования - Выпуск </h3>
<ul>
<li>Cookie без атрибута SameSite </li>
<li>Междоменная неправильная конфигурация </li>
<li>Раскрытие информации: в URL </li>
<li>Раскрытие информации: реферер </li>
<li>Раскрытие информации: подозрительные комментарии </li>
<li>Сервер утекает информацию через поля заголовка HTTP-ответа "X-Powered-By" </li>
<li>Раскрытие отметки времени </li>
<li>Обнаружен хеш имени пользователя </li>
<li>Сканер заголовков ответов X-AspNet-Version </li>
<li>Информация о X-Debug-Token  </li>
</ul>

<H2>Удаление классов фильтров </H2>
Классы / код для функций фильтров, устаревшие с ZAP 2.4.0, были удалены.  Дополнения, которые все еще используются, перестанут работать. 

<H2>Изменения в связанных библиотеках </H2>
Были удалены следующие библиотеки: 
<ul>
  <li>JDOM</li>
  <li>Diff Utils</li>
</ul>
больше не используется ядром, при необходимости надстройки должны объединять библиотеку. 

Обновлены следующие библиотеки: 
<ul>
  <li>Bouncy Castle, 1.61 → 1.64</li>
  <li>Commons BeanUtils, 1.9.3 → 1.9.4</li>
  <li>Commons Codec, 1.12 → 1.13</li>
  <li>Commons CSV, 1.6 → 1.7</li>
  <li>Commons Text, 1.6 → 1.8</li>
  <li>HSQLDB, 2.4.1 → 2.5.0</li>
  <li>Nashorn Sandbox, 0.1.25 → 0.1.26</li>
  <li>RSyntaxTextArea, 3.0.3 → 3.0.4</li>
  <li>SQLite JDBC, 3.27.2.1 → 3.28.0</li>
</ul>


<H2>Улучшения </H2>
<ul>
<li>Проблема 2016: Выберите уникальный порт в графическом интерфейсе, если есть конфликт </li>
<li>Проблема 2619: Разрешить надстройкам объявлять / связывать свои зависимости </li>
<li>Проблема 3358: Улучшение: Фильтр панели параметров </li>
<li>Проблема 3402: совместное использование пользовательских переменных между скриптами. </li>
<li>Проблема 3491: Запрос функции: выбор нескольких контекстов </li>
<li>Проблема 4963: разрешено указывать URI страницы входа. </li>
<li>Проблема 5278: возможность фильтровать запросы, по которым выполняется активное сканирование. </li>
<li>Проблема 5303: вызовы API для добавления и изменения предупреждений. </li>
<li>Проблема 5436: добавление новых языков в контекстную технологию. </li>
<li>Проблема 5464: исключить Context.getIndex и реализовать Context.getId </li>
<li>Проблема 5466: добавление служебных методов в класс предупреждений. </li>
<li>Проблема 5550: загрузка дополнительных локальных прокси-серверов со значениями по умолчанию. </li>
<li>Проблема 5563: включить меню импорта / онлайн в Параметры> Клавиатура </li>
<li>Проблема 5598: увеличьте срок действия сертификата сайта до 825 дней. </li>
<li>Ошибка 5614: значок редактора ручного запроса </li>
<li>Проблема 5630: поддержка сценариев управления сеансом. </li>
<li>Проблема 5656: добавление Base64url в инструмент кодирования / декодирования </li>
<li>Проблема 5667: Улучшение разрешений и обработки пространства при сохранении / экспорте. </li>
<li>Проблема 5671: проверка обновлений в режиме демона. </li>
<li>Ошибка 5672: не предлагать принять лицензию при первом запуске. </li>
<li>Проблема 5680: Обновить зависимости. </li>
<li>Проблема 5681: удаление неиспользуемых зависимостей. </li>
<li>Проблема 5691: предоставление сведений о контексте для правил пассивного сканирования. </li>
<li>Проблема 5696: Предоставление доступа технабору контекста напрямую к правилам пассивного сканирования </li>
<li>Проблема 5723: токены AntiCSRF добавляют новые значения по умолчанию </li>
<li>Проблема 5756: HttpHeader предоставляет вариант списка для getHeaders (String) </li>
<li>Ошибка 5774: разрешено включать / отключать все пассивные теги через API. </li>
<li>Ошибка 5779: MacOS DMG - вернуться к HFS + </li>
<li>Проблема 5782: обновление пользовательского агента по умолчанию. </li>
<li>Ошибка 5785: добавить всплывающую подсказку со списком всех прокси в нижний колонтитул основного прокси-сервера. </li>
<li>Проблема 5795: обработка цитируемого URL-адреса при мета-обновлении </li>
</ul>

<H2>Исправление ошибок </H2>
<ul>
<li>Проблема 1164: ручная повторная отправка устанавливает файлы cookie при ответе. </li>
<li>Проблема 4003: проблемы при использовании режима «мало памяти». </li>
<li>Проблема 5427: обновление версии протокола HTTP в редакторе запросов вручную </li>
<li>Проблема 5449: API не отвечает - внутренняя ошибка </li>
<li>Проблема 5452: не удаляйте пакет ресурсов других расширений. </li>
<li>Проблема 5486: исправление ошибки подсчета в статистике. </li>
<li>Ошибка 5487: добавление сохраненных сценариев зарегистрированного типа сценария. </li>
<li>Проблема 5490: токены Anti-CSRF не закодированы в запросах аутентификации. </li>
<li>Проблема 5491: запрос аутентификации без цели запроса из сценария аутентификации вызывает исключения. </li>
<li>Проблема 5492: улучшена обработка ошибок при создании политик сканирования. </li>
<li>Проблема 5518: ZAP может не использовать учетные данные для аутентификации исходящего прокси-сервера </li>
<li>Проблема 5585: ZAP 2.8.1 зависает на kali </li>
<li>Проблема 5613: устранение неполадок с отсутствующим токеном в данных аутентификации POST </li>
<li>Проблема 5619: параметр -configfile может не работать с массивами </li>
<li>Проблема 5622: согласованная синхронизация кнопки отслеживания сеансов </li>
<li>Проблема 5624: параметр предупреждения может быть загружен неправильно </li>
<li>Проблема 5636: script.js никогда не обслуживалась на локальном хосте.  </li>
<li>Проблема 5704: дождитесь установки надстроек. </li>
<li>Проблема 5743: кнопки "Найти" + "Отмена" не расположены ни по центру, ни по правому краю. </li>
<li>Проблема 5744: улучшение подписей элементов меню поиска. </li>
<li>Проблема 5780: не отображать сообщения при их удалении. </li>
<li>Проблема 5783: отключение кэширования JAR по умолчанию </li>
<li>Проблема 5794: правильный шаблон MailTo для RegexAutoTagScanner </li>
<li>Проблема 5803. Не запрашивать пароль пользователя через API. </li>
</ul>

<H2>Новые конечные точки ZAP API: </H2>

<H3>ПРОСМОТР скрипта / globalCustomVar </H3>
Получает значение (строковое представление) глобальной пользовательской переменной.  Возвращает ошибку API (de_not_exist), если значение равно не было установлено ранее. 

<H3>Просмотр скрипта / GlobalCustomvars </H3>
Получает все глобальные пользовательские переменные (пары ключа / значения, значение - это строковое представление). 

<H3>Просмотр скрипта / ScriptCustomvar </H3>
Получает значение (строковое представление) пользовательской переменной.  Возвращает ошибку API (de_not_exist), если никакого скрипта с заданным именем не существует или если значение ранее не было установлено значение. 

<H3>Просмотр скрипта / ScriptCustomvars </H3>
Получает все пользовательские переменные (пары ключа / значения, значение - это строковое представление) скрипта.  Возвращает ошибку API (DO_NOT_EXIST), если не существует сценария с указанным именем. 

<H3>Action Alert / Addalert </H3>
Добавьте предупреждение, связанное с данным идентификатором сообщения, с предоставленными деталями.  (ID созданного оповещения возвращается.) 

<H3> Action Alert / UpdateRert </H3>
Обновите оповещение с данным идентификатором с указанными деталями. 

<H3>Действие PSCAN / DisablealTags </H3>
Отключает все теги пассивных сканирования. 

<H3>Действие PSCAN / ENALLEALTAGS </H3>
Включает все теги пассивного сканирования. 

<H3>Сценарий действий / ClearGlobalcustomvar </H3>
Очищает глобальную пользовательскую переменную. 

<H3>Действие скрипт / clearscriptcustomvar </H3>
Очищает настраиваемую переменную скрипт. 

<H2>Смотрите также </H2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../intro.html">Вступление</a></td><td>введение в ZAP</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="releases.html">Релизы </a></td><td>полный набор релизов</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../credits.html">Кредиты</a></td><td>люди и группы, которые сделали возможным этот релиз</td></tr>
</table>
</BODY>
</HTML>