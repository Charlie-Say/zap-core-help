<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
  Versión 2.9.0
</TITLE>
</HEAD>
<BODY>
<H1>Versión 2.9.0</H1>

Este es un lanzamiento de mejora y corrección de errores, la cual requiere como mínimo la versión 8 de Java. 
Nótese que la versión 11 de Java es recomendable, especialmente para monitores con alto DPI.
<br><br>
Estas notas de la versión no incluyen todos los cambios incluidos en los complementos actualizados desde la versión 2.8.0.
<br><br>
Algunas de las mejoras más significativas incluyen:

<H2>Scripts de Gestión de Sesiones</H2>
Ahora es posible definir secuencias de comandos que manejen una gestión de sesión no estándar o más compleja.<br>
Los scripts de administración de sesión tienen acceso completo a la petición y respuesta de autenticación y se pueden definir
parámetros obligatorios y opcionales.
Se proporciona un script de gestión de sesión de ejemplo para OWASP Juice shop.

<H2>Filtros de Escaneo Activo</H2>
Ahora es posible filtrar peticiones en un Escaneo Activo A continuación se muestran los criterios admitidos:
<ul>
	<li>Método HTTP</li>
	<li>Código de estado</li>
	<li>Etiquetas</li>
	<li>Patrón URL</li>	
</ul>

<H2>Variables globales/de script  Personalizadas</H2>
Ahora es posible que los scripts compartan variables de script/globales personalizadas, que pueden ser de cualquier tipo no
solo cadenas, por ejemplo, listas, mapas, modelos GUI.<br/>
En JavaScript se accede/establecen de la siguiente manera:
<blockquote><pre><code>
var ScriptVars = Java.type("org.zaproxy.zap.extension.script.ScriptVars")

ScriptVars.setScriptCustomVar(this.context, "var.name", {x: 1, y: 3})
print(ScriptVars.getScriptCustomVar(this.context, "var.name").y) // Prints 3

ScriptVars.setGlobalCustomVar("var.name", ["A", "B", "C", "D"])
print(ScriptVars.getGlobalCustomVar("var.name")[2]) // Prints C
</code></pre></blockquote>

<H2>Inclusión de Reglas de escaneo</H2>

Las siguientes reglas han sido incluidas:

<h3>Lanzamiento - Reglas de Escaneo Pasivo</h3>
<ul>
<li>Cookie sin atributo SameSite</li>
<li>Configuración incorrecta de Dominios Cruzados</li>
<li>Revelación de información: en URL</li>
<li>Revelación de información: Cabecera Referer</li>
<li>Revelación de información: Comentarios Sospechosos</li>
<li>Exposición de Información por medio de Campo(s) de encabezado de respuesta HTTP "X-Powered-By" </li>
<li>Divulgación de marca de tiempo</li>
<li>Hash de nombre de usuario encontrado</li>
<li>Escáner de encabezado de respuesta de la versión X-AspNet</li>
<li>Información de X-Debug-Token </li>
</ul>

<H2>Eliminación de clases de filtros</H2>
Se han eliminado las clases/código para la funcionalidad de filtros, en desuso desde ZAP 2.4.0. Los complementos que aún las usen, dejarán de funcionar.

<H2>Cambios en conjuntos de Librerías</H2>
Las siguientes librerías han sido eliminadas:
<ul>
  <li>JDOM</li>
  <li>Diff Utils</li>
</ul>
En desuso por el core, los complementos deberán incluirlas, si fueran necesarias

Las siguientes librerías han sido actualizadas:
<ul>
  <li>Bouncy Castle, 1.61 → 1.64</li>
  <li>Commons BeanUtils, 1.9.3 → 1.9.4</li>
  <li>Commons Codec, 1.12 → 1.13</li>
  <li>Commons CSV, 1.6 → 1.7</li>
  <li>Commons Text, 1.6 → 1.8</li>
  <li>HSQLDB, 2.4.1 → 2.5.0</li>
  <li>Nashorn Sandbox, 0.1.25 → 0.1.26</li>
  <li>RSyntaxTextArea, 3.0.3 → 3.0.4</li>
  <li>SQLite JDBC, 3.27.2.1 → 3.28.0</li>
</ul>


<H2>Mejoras:</H2>
<ul>
<li>Issue 2016: Elija un puerto único en la GUI si hay un conflicto</li>
<li>Issue 2619 : Permitir complementos para que declaren/agrupen sus dependencias</li>
<li>Issue 3358 : Mejora: panel del filtro de opciones.</li>
<li>Issue 3402 : Compartir variables personalizadas entre scripts</li>
<li>Issue 3491 : Solicitud de función: selección de varios contextos</li>
<li>Issue 4963 : Permitir especificar la URI de inicio de sesión.</li>
<li>Issue 5278 : Capacidad para filtrar las solicitudes contra las que se ejecutan los escaneos activos</li>
<li>Issue 5303 : Llamadas API para agregar y cambiar alertas</li>
<li>Issue 5436 : Agregar nuevos lenguajes a la tecnología en el contexto</li>
<li>Issue 5464 : Deprecar Context.getIndex e implementar Context.getId</li>
<li>Issue 5466 : Agregar métodos de utilidad a la clase Alert</li>
<li>Issue 5550 : Carga de proxies locales adicionales con valores predeterminados</li>
<li>Issue 5563 : Incluir menús Importar/En línea en Opciones > Teclado</li>
<li>Issue 5598 : Revisar el período de validez del certificado del sitio a 825d</li>
<li>Issue 5614 : Icono del editor de solicitudes manuales.</li>
<li>Issue 5630 : Soporte de scripts de configuración de sesiones. </li>
<li>Issue 5656 : Agregar Base64url a la herramienta codificación/descodificación</li>
<li>Issue 5667 : Mejorar los permisos y el manejo del espacio al guardar/exportar</li>
<li>Issue 5671 : Buscar actualizaciones en modo servicio</li>
<li>Issue 5672 : No solicitar aceptar la licencia en el primer inicio</li>
<li>Issue 5680 : Actualizar dependencias</li>
<li>Issue 5681 : Eliminación de dependencias no utilizadas</li>
<li>Issue 5691 : Exponer los detalles del contexto a las reglas de escaneo pasivo</li>
<li>Issue 5691 : Exponer los detalles del contexto a las reglas de escaneo pasivo</li>
<li>Issue 5723 : Tokens AntiCSRF Agregar nuevos valores predeterminados</li>
<li>Issue 5756 : HttpHeader proporciona una variante de lista para getHeaders(String)</li>
<li>Issue 5774 : Permitir habilitar/deshabilitar todas las etiquetas pasivas a través de la API</li>
<li>Issue 5779 : MacOS DMG: volver a HFS+</li>
<li>Issue 5782 :Actualización del User-agent predeterminado</li>
<li>Issue 5785 : Agregar información sobre herramientas que enumera todos los proxies en la etiqueta principal de proxy al pie de página.</li>
<li>Issue 5795 : Manejar la URL citada en meta actualización</li>
</ul>

<H2>Corrección de errores:</H2>
<ul>
<li>Issue 1164 : Reenvio manual añade cookie en la respuesta</li>
<li>Issue 4003 : Problemas al usar el modo de baja mememoria</li>
<li>Issue 5427 : Actualizar la versión del protocolo HTTP en el Editor Manual de Peticiones.</li>
<li>Issue 5449 : APIO no responde - Error interno.</li>
<li>Issue 5452 : No eliminar el paquete de recursos de otras extensiones</li>
<li>Issue 5486 : Solucionar error de conteo en Estadísticas</li>
<li>Issue 5487 : Agregar scripts guardados del tipo de script registrado</li>
<li>Issue 5490 : Tokens anti-CSRF no codificados en solicitudes de autenticación</li>
<li>Issue 5491 : La petición de autenticación sin destino del script de autenticación provoca excepciones</li>
<li>Issue 5492 : Mejorar el manejo de errores al crear políticas de escaneo</li>
<li>Issue 5518 : ZAP podría no usar las credenciales de autenticación del proxy saliente</li>
<li>Issue 5585 : ZAP 2.8.1 tostándose en Kali</li>
<li>Issue 5613 : Hacer frente al token faltante en los datos POST de autenticación</li>
<li>Issue 5619 : La opción -configfile puede fallar con arrais</li>
<li>Issue 5622 : Sincronización consistente del botón SessionTracking</li>
<li>Issue 5624 : Es posible que el parámetro de alerta no se haya cargado correctamente</li>
<li>Issue 5636 : script.js nunca se sirvió en localhost </li>
<li>Issue 5704 : Espere a que se instalen los complementos</li>
<li>Issue 5743 : Los botones Buscar + Cancelar no están centrados ni alineados a la derecha</li>
<li>Issue 5744 : Mejorar las etiquetas de los elementos del menú de búsqueda</li>
<li>Issue 5780: No mostrar mensajes al eliminarlos</li>
<li>Issue 5783: Deshabilitar el almacenamiento en caché JAR de forma predeterminada</li>
<li>Issue 5794: Patrón MailTo corregido para RegexAutoTagScanner</li>
<li>Issue 5803: No solicitar la contraseña de usuario a través de la API</li>
</ul>

<H2>Nuevos Endpoints API para ZAP:</H2>

<H3>VIEW script / globalCustomVar</H3>
Obtiene el valor (representación de cadena) de una variable personalizada global. Devuelve un error de API (DOES_NOT_EXIST) si no se estableció ningún valor previamente.

<H3>VIEW script / globalCustomVars</H3>
Obtiene todas las variables personalizadas globales (pares clave/valor, el valor es la representación de cadena).

<H3>VIEW script / scriptCustomVar</H3>
Obtiene el valor (representación de cadena) de una variable personalizada. Devuelve un error de API (DOES_NOT_EXIST) si no existe ningún script con el nombre dado o si no se estableció ningún valor previamente.

<H3>VIEW script / scriptCustomVars</H3>
Obtiene todas las variables personalizadas (pares clave/valor, el valor es la representación de cadena) de un script. Devuelve un error de API (DOES_NOT_EXIST) si no existe ningún script con el nombre proporcionado.

<H3>ACTION alert / addAlert</H3>
Agrega una alerta asociada al ID del mensaje, con los detalles proporcionados. (Se devuelve el ID de la alerta creada).

<H3> ACTION alert / updateAlert</H3>
Actualiza la alerta del ID proporcionado, con los detalles proporcionados.

<H3>ACTION pscan / disableAllTags</H3>
Deshabilita todas las etiquetas del escaneo pasivo. 

<H3>ACTION pscan / enableAllTags</H3>
Habilita todas las etiquetas del escáner pasivo.

<H3>ACTION script / clearGlobalCustomVar</H3>
Borra todas las variables globales personalizadas.

<H3>ACTION script / clearScriptCustomVar</H3>
Borra una variable personalizada de script.

<H2>Véase También</H2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../intro.html">Introducción</a></td><td>la introducción a ZAP</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="releases.html">Lanzamientos</a></td><td>el conjunto completo de lanzamientos</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../credits.html">Créditos</a></td><td>las personas y grupos que han hecho posible esta versión</td></tr>
</table>
</BODY>
</HTML>