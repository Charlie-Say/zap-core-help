<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>
  Release 2.9.0
</TITLE>
</HEAD>
<BODY>
<H1>Versão 2.9.0</H1>

Essa versão corrige bugs e aplica melhorias, requer no mínimo Java 8. 
Note que no mínimo o Java 11 é recomendado, especialmente para displays com alto DPI.
<br><br>
Essas notas de versão não incluem todas as mudanças incluídas em add-ons atualizados desde a 2.8.0.
<br><br>
Algumas das melhorias mais significantes inlcuem:

<H2>Scripts de Gerenciamento de Sessão</H2>
Agora é possível definir scripts que tratem gerenciamentos de sessão fora do padrão ou mais complexos.<br> Scripts de Gerenciamento de Sessão possuem total acesso às requisições e respostas de autenticação e pode definir Parâmetros personalizados obrigatórios e opcionais.
Um exemplo de script de Gerenciamento de sessão para OWASP Juice shop é dado.

<H2>Active Scan Filter</H2>
Agora é possivel filtrar requisições no Active Scan. Abaixo estão os modelos suportados:
<ul>
	<li>HTTP method</li>
	<li>Status code</li>
	<li>Tags</li>
	<li>URL pattern</li>	
</ul>

<H2>Custom Global/Script Variables</H2>
Agora é possível scripts compartilharem variáveis globais/scripts customizados, que podem ser de qualquer tipo, não somente strings, por exemplo, lists, maps, GUI models.<br>
Em JavaScript são acessados/definidos da seguinte maneira:
<blockquote><pre><code>
var ScriptVars = Java.type("org.zaproxy.zap.extension.script.ScriptVars")

ScriptVars.setScriptCustomVar(this.context, "var.name", {x: 1, y: 3})
print(ScriptVars.getScriptCustomVar(this.context, "var.name").y) // Prints 3

ScriptVars.setGlobalCustomVar("var.name", ["A", "B", "C", "D"])
print(ScriptVars.getGlobalCustomVar("var.name")[2]) // Prints C
</code></pre></blockquote>

<H2>Scan Rule Promotions</H2>

Os seguintes módulos foram instalados:

<h3>Passive Scan Rules - Release</h3>
<ul>
<li>Cookie sem o atrivuto SameSite</li>
<li>Configuração de Domínio Cruzado incorreta</li>
<li>Divulgação de informações: No URL</li>
<li>Divulgação de informações: Referente</li>
<li>Divulgação de informações: Comentários Suspeitos</li>
<li>Servidor vaza informações através do(s) campo(s) de cabeçalho de resposta HTTP "X-Powered-By".</li>
<li>Divulgação de timestamp</li>
<li>Hash do nome de usuário encontrado</li>
<li>Scanner de cabeçalho de resposta X-AspNet-Version</li>
<li>Informação do X-Debug-Token </li>
</ul>

<H2>Filters Classes Removal</H2>
As classes/código para a funcionalidade de Filtros, estão obsoletas desde o ZAP 2.4.0, foi removido. Os Add-ons que ainda os utilizarem irão parar de funcionar.

<H2>Changes in Bundled Libraries</H2>
As seguintes bibliotecas foram removidas:
<ul>
  <li>JDOM</li>
  <li>Diff Utils</li>
</ul>
Não estão mais em uso pelo núcleo. Os complementos devem incluir a biblioteca, se necessário.

As seguintes bibliotecas foram atualizadas:
<ul>
  <li>Bouncy Castle, 1.61 → 1.64</li>
  <li>Commons BeanUtils, 1.9.3 → 1.9.4</li>
  <li>Commons Codec, 1.12 → 1.13</li>
  <li>Commons CSV, 1.6 → 1.7</li>
  <li>Commons Text, 1.6 → 1.8</li>
  <li>HSQLDB, 2.4.1 → 2.5.0</li>
  <li>Nashorn Sandbox, 0.1.25 → 0.1.26</li>
  <li>RSyntaxTextArea, 3.0.3 → 3.0.4</li>
  <li>SQLite JDBC, 3.27.2.1 → 3.28.0</li>
</ul>


<H2>Aprimoramentos</H2>
<ul>
<li>Issue 2016 : Se houver conflito, escolha uma porta exclusiva na interface gráfica (GUI).</li>
<li>Issue 2619 : Permitir que os complementos declarem/incluam suas dependências.</li>
<li>Issue 3358 : Melhoria: Filtro do Painel de Opções</li>
<li>Issue 3402 : Compartilhar variáveis personalizadas entre scripts.</li>
<li>Issue 3491 : Solicitação de recurso: Selecionar Múltiplos Contextos.</li>
<li>Issue 4963 : Permitir especificar a URI da página de login.</li>
<li>Issue 5278 : Capacidade de filtrar quais solicitações o Active Scans executam.</li>
<li>Issue 5303 : Chamadas de API para adicionar e modificar alertas.</li>
<li>Issue 5436 : Adicionar novos idiomas ao contexto técnico.</li>
<li>Issue 5464 : Descontinuar Context.getIndex e implementar Context.getId.</li>
<li>Issue 5466 : Adicionar métodos utilitários à classe Alert.</li>
<li>Issue 5550 : Carregar proxies locais adicionais com valores padrão.</li>
<li>Issue 5563 : Incluir os menus Importar e Online em Opções > Teclado.</li>
<li>Issue 5598 : Revisar período de validade do certificado do site para 825d</li>
<li>Issue 5614 : Ícone do Editor de Solicitações Manual.</li>
<li>Issue 5630 : Dar suporte a scripts de gerenciamento de sessão.</li>
<li>Issue 5656 : Adicionar Base64url à Ferramenta de Codificação/Decodificação.</li>
<li>Issue 5667 : Aprimorar as permissões e o tratamento de espaços ao salvar/exportar.</li>
<li>Issue 5671 : Checar por update no modo daemon</li>
<li>Issue 5672 : Não solicitar a aceitação da licença na primeira inicialização.</li>
<li>Issue 5680 : Atualizar dependências</li>
<li>Issue 5681 : Remover dependências não utilizadas</li>
<li>Issue 5691 : Expor detalhes do Contexto para scan rules passivas.</li>
<li>Issue 5696 : Expor o conjunto de tecnologias (techset) do Contexto diretamente para regras de varredura passiva.</li>
<li>Issue 5723 : Adicionar novos valores padrão para Tokens AntiCSRF.</li>
<li>Issue 5756 : Fornecer uma variante de Lista (List) para o método getHeaders(String) em HttpHeader.
</li>
<li>Issue 5774 : Permitir habilitar/desabilitar todas as tags passivas por meio da API.</li>
<li>Issue 5779 : MacOS DMG - Voltar a utilizar HFS+</li>
<li>Issue 5782 : Atualizar o agente de usuário padrão.</li>
<li>Issue 5785 : Adicionar uma dica listando todos os proxies ao rótulo "Proxy Primário" no rodapé.</li>
<li>Issue 5795 : Lidar com URLs entre aspas em meta refresh.</li>
</ul>

<H2>Bug fixes</H2>
<ul>
<li>Issue 1164: O "Reenvio" manual define cookies na resposta.</li>
<li>Issue 4003: Problemas ao usar o modo de "baixa memória".</li>
<li>Issue 5427: Atualizar a Versão do Protocolo HTTP no Editor de Requisições Manual.</li>
<li>Issue 5449: API não responde - Erro interno.</li>
<li>Issue 5452: Não remover o pacote de recursos de outras extensões.</li>
<li>Issue 5486: Corrigir erro de contagem nas estatísticas.</li>
<li>Issue 5487: Adicionar scripts salvos do tipo script registrado.</li>
<li>Issue 5490: Tokens Anti-CSRF não estão codificados em requisições de autenticação.</li>
<li>Issue 5491: Solicitação de autenticação sem "request-target" a partir de um script de autenticação causa exceções.</li>
<li>Issue 5492 : Improve error handling when creating scan policies</li>
<li>Issue 5518 : ZAP might not use outgoing proxy authentication credentials</li>
<li>Issue 5585 : ZAP 2.8.1 hanging on kali</li>
<li>Issue 5613 : Cope with missing token in auth POST data</li>
<li>Issue 5619 : The -configfile option can fail with arrays</li>
<li>Issue 5622 : Consistent SessionTracking Button Sync</li>
<li>Issue 5624 : Alert parameter might not be properly loaded</li>
<li>Issue 5636 : script.js never served on localhost </li>
<li>Issue 5704 : Wait for add-ons to be installed</li>
<li>Issue 5743 : Find + Cancel buttons are neither centered nor flush right</li>
<li>Issue 5744 : Improve labels of Search menu items</li>
<li>Issue 5780 : Don't display messages when deleting them</li>
<li>Issue 5783 : Disable JAR caching by default</li>
<li>Issue 5794 : Correct MailTo pattern for RegexAutoTagScanner</li>
<li>Issue 5803 : Do not require the user password through the API</li>
</ul>

<H2>ZAP API New Endpoints:</H2>

<H3>VIEW script / globalCustomVar</H3>
Gets the value (string representation) of a global custom variable. Returns an API error (DOES_NOT_EXIST) if no value was previously set.

<H3>VIEW script / globalCustomVars</H3>
Gets all the global custom variables (key/value pairs, the value is the string representation).

<H3>VIEW script / scriptCustomVar</H3>
Gets the value (string representation) of a custom variable. Returns an API error (DOES_NOT_EXIST) if no script with the given name exists or if no value was previously set.

<H3>VIEW script / scriptCustomVars</H3>
Gets all the custom variables (key/value pairs, the value is the string representation) of a script. Returns an API error (DOES_NOT_EXIST) if no script with the given name exists.

<H3>ACTION alert / addAlert</H3>
Add an alert associated with the given message ID, with the provided details. (The ID of the created alert is returned.)

<H3> ACTION alert / updateAlert</H3>
Update the alert with the given ID, with the provided details.

<H3>ACTION pscan / disableAllTags</H3>
Disables all passive scan tags.

<H3>ACTION pscan / enableAllTags</H3>
Enables all passive scan tags.

<H3>ACTION script / clearGlobalCustomVar</H3>
Clears a global custom variable.

<H3>ACTION script / clearScriptCustomVar</H3>
Clears a script custom variable.

<H2>See also</H2>
<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../intro.html">Introduction</a></td><td>the introduction to ZAP</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="releases.html">Releases</a></td><td>the full set of releases</td></tr>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><a href="../credits.html">Credits</a></td><td>the people and groups who have made this release possible</td></tr>
</table>
</BODY>
</HTML>